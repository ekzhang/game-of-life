{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?cb34","webpack:///./src/components/LifeGrid.vue?bd38","webpack:///src/components/LifeGrid.vue","webpack:///./src/components/LifeGrid.vue?c56a","webpack:///./src/components/LifeGrid.vue?61f1","webpack:///./src/logic/rle.js","webpack:///./src/logic/hashlife.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/LifeGrid.vue?0230"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","on","handleKeydown","_v","_s","generation","generationTime","liveCount","pow2","stepSize","zoom","ref","toggle","staticClass","resume","timerID","step","clear","save","loadPrompt","directives","rawName","expression","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","preset","multiple","_l","group","label","rle","domProps","modifiers","speed","_n","$forceUpdate","handleZoom","staticStyle","staticRenderFns","arg","width","height","rowx","colx","size","computed","rows","Math","ceil","cols","row0","floor","col0","cellWidth","MIN_BORDER_PX","max","rowOffset","round","colOffset","all","methods","handleTap","$emit","x","y","handlePanStart","oldRowx","oldColx","handlePan","evt","deltaY","deltaX","handleResize","$refs","canvas","document","body","clientWidth","clientHeight","center","pow","k","cx","dx","cy","dy","setUniverse","universe","redraw","drawGrid","ctx","beginPath","moveTo","lineTo","strokeStyle","stroke","fillSquare","xx","yy","pos","COLOR","drawNode","node","nw","ne","sw","se","drawCells","putImageData","imageData","clearRect","watch","mounted","getContext","addEventListener","beforeDestroy","removeEventListener","component","RLE_RE","toArray","cells","minX","Infinity","maxX","minY","maxY","min","ret","fill","row","index","next","indexOf","count","join","encode","ar","lines","numLines","decode","test","Error","split","numCols","re","match","exec","parseInt","num","col","TreeNode","pop","level","resultStep","id","random","e","constructor","emptyTree","getBit","setBit","south","east","neighbors","current","x00","x01","x02","x10","x11","centeredSubnode","x12","x20","x21","x22","applyRule","slowSimulation","n00","n01","horizontal","n02","n10","vertical","n11","n12","n20","n21","n22","centeredHorizontal","centeredVertical","centeredSubSubnode","_cellList","hsh","hash","pool","has","obj","set","Map","LifeUniverse","root","expand","expandTo","cur","cellList","examples","handleWheel","pageX","pageY","keyCode","lifeGrid","update","population","cell","performance","now","t0","clearInterval","title","text","input","inputValue","toRLE","load","zoomGoal","inputPlaceholder","showCancelButton","inputValidator","setInterval","allExamples","components","LifeGrid","Vue","use","VueHammer","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.8b1e8ef7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/game-of-life/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\",\"tabindex\":\"1\"},on:{\"keydown\":_vm.handleKeydown}},[_c('header',[_c('span',[_vm._v(\" Generation \"+_vm._s(_vm.generation)+_vm._s(_vm.generationTime !== null ? (\" (\" + _vm.generationTime + \"ms)\") : '')+\" \")]),_c('span',[_vm._v(\"Pop: \"+_vm._s(_vm.liveCount))]),_c('span',[_vm._v(\"Step: \"+_vm._s(_vm.pow2(_vm.stepSize)))]),_c('span',[_vm._v(\" \"+_vm._s(-_vm.zoom > 0 ? _vm.pow2(-_vm.zoom) : 1)+\" : \"+_vm._s(_vm.zoom > 0 ? _vm.pow2(_vm.zoom) : 1)+\" \")])]),_c('LifeGrid',{ref:\"lifeGrid\",on:{\"toggle\":_vm.toggle}}),_c('footer',[_c('span',{staticClass:\"controls\"},[_c('button',{on:{\"click\":_vm.resume}},[_vm._v(_vm._s(_vm.timerID ? 'Stop' : 'Start'))]),_c('button',{on:{\"click\":_vm.step}},[_vm._v(\"Step\")]),_c('button',{on:{\"click\":_vm.clear}},[_vm._v(\"Clear\")])]),_c('span',{staticClass:\"controls\"},[_c('button',{on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_c('button',{on:{\"click\":_vm.loadPrompt}},[_vm._v(\"Load\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.preset),expression:\"preset\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.preset=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"--Select a pattern--\")]),_vm._l((_vm.examples),function(group,label){return _c('optgroup',{key:label,attrs:{\"label\":label}},_vm._l((group),function(rle,name){return _c('option',{key:name,domProps:{\"value\":rle,\"textContent\":_vm._s(name)}})}),0)})],2)]),_c('span',{staticClass:\"controls\"},[_c('label',{attrs:{\"for\":\"speed-input\"}},[_vm._v(\"Speed\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.speed),expression:\"speed\",modifiers:{\"number\":true}}],attrs:{\"id\":\"speed-input\",\"type\":\"range\",\"min\":\"1\",\"max\":\"100\"},domProps:{\"value\":(_vm.speed)},on:{\"__r\":function($event){_vm.speed=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('span',{staticClass:\"controls\"},[_c('button',{attrs:{\"disabled\":_vm.zoom <= -32},on:{\"click\":function($event){return _vm.handleZoom(-1)}}},[_vm._v(\"-\")]),_c('span',{staticStyle:{\"margin\":\"0 8px\"}},[_vm._v(\"Zoom\")]),_c('button',{attrs:{\"disabled\":_vm.zoom >= 8},on:{\"click\":function($event){return _vm.handleZoom(+1)}}},[_vm._v(\"+\")])]),_c('span',{staticClass:\"controls\"},[_c('button',{attrs:{\"disabled\":_vm.stepSize <= 0},on:{\"click\":function($event){_vm.stepSize--}}},[_vm._v(\"-\")]),_c('span',{staticStyle:{\"margin\":\"0 8px\"}},[_vm._v(\"Step Size\")]),_c('button',{attrs:{\"disabled\":_vm.stepSize >= 32},on:{\"click\":function($event){_vm.stepSize++}}},[_vm._v(\"+\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{directives:[{name:\"hammer\",rawName:\"v-hammer:tap\",value:(_vm.handleTap),expression:\"handleTap\",arg:\"tap\"},{name:\"hammer\",rawName:\"v-hammer:panstart\",value:(_vm.handlePanStart),expression:\"handlePanStart\",arg:\"panstart\"},{name:\"hammer\",rawName:\"v-hammer:pan\",value:(_vm.handlePan),expression:\"handlePan\",arg:\"pan\"}],ref:\"canvas\",staticClass:\"grid\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <canvas\n    class=\"grid\"\n    ref=\"canvas\"\n    v-hammer:tap=\"handleTap\"\n    v-hammer:panstart=\"handlePanStart\"\n    v-hammer:pan=\"handlePan\"\n  ></canvas>\n</template>\n\n<script>\nconst MIN_BORDER_PX = 8\nconst COLOR = 0xff000000\n\nexport default {\n  data() {\n    return {\n      width: null,\n      height: null,\n      rowx: 0,\n      colx: 0,\n      size: 16,\n    }\n  },\n  computed: {\n    rows() {\n      return Math.ceil(this.height / this.size) + 1\n    },\n    cols() {\n      return Math.ceil(this.width / this.size) + 1\n    },\n    row0() {\n      return Math.floor(this.rowx)\n    },\n    col0() {\n      return Math.floor(this.colx)\n    },\n    cellWidth() {\n      if (this.size >= MIN_BORDER_PX) return this.size - 1\n      return Math.max(1, this.size)\n    },\n    rowOffset() {\n      return Math.round(this.size * (this.rowx - this.row0))\n    },\n    colOffset() {\n      return Math.round(this.size * (this.colx - this.col0))\n    },\n    all() {\n      return {\n        rowx: this.rowx,\n        colx: this.colx,\n        size: this.size,\n        width: this.width,\n        height: this.height,\n      }\n    },\n  },\n  methods: {\n    handleTap(evt) {\n      const x = Math.floor(this.colx + evt.center.x / this.size)\n      const y = Math.floor(this.rowx + evt.center.y / this.size)\n      this.$emit('toggle', [x, y])\n    },\n    handlePanStart() {\n      this.oldRowx = this.rowx\n      this.oldColx = this.colx\n    },\n    handlePan(evt) {\n      this.rowx = this.oldRowx - evt.deltaY / this.size\n      this.colx = this.oldColx - evt.deltaX / this.size\n    },\n    handleResize() {\n      this.width = this.$refs.canvas.width = document.body.clientWidth\n      this.height = this.$refs.canvas.height = document.body.clientHeight\n    },\n    center() {\n      this.rowx = -this.height / this.size / 2\n      this.colx = -this.width / this.size / 2\n    },\n    zoom(k, dx, dy) {\n      const cx = this.colx + dx / this.size\n      const cy = this.rowx + dy / this.size\n      this.size *= Math.pow(2, k)\n      this.colx = cx - dx / this.size\n      this.rowx = cy - dy / this.size\n    },\n    setUniverse(universe) {\n      this.universe = universe\n      this.redraw()\n    },\n    drawGrid() {\n      this.ctx.beginPath()\n      for (let r = 0; r < this.rows; r++) {\n        const y = this.size * r - this.rowOffset + this.cellWidth + 0.5\n        this.ctx.moveTo(0, y)\n        this.ctx.lineTo(this.width, y)\n      }\n      for (let c = 0; c < this.cols; c++) {\n        const x = this.size * c - this.colOffset + this.cellWidth + 0.5\n        this.ctx.moveTo(x, 0)\n        this.ctx.lineTo(x, this.height)\n      }\n      this.ctx.strokeStyle = '#D3D3D3'\n      this.ctx.stroke()\n    },\n    fillSquare(data, xx, yy, cellWidth) {\n      let width = cellWidth\n      let height = cellWidth\n      if (xx < 0) {\n        width += xx\n        xx = 0\n      }\n      if (xx + width > this.width) {\n        width = this.width - xx\n      }\n      if (yy < 0) {\n        height += yy\n        yy = 0\n      }\n      if (yy + height > this.height) {\n        height = this.height - yy\n      }\n      let pos = yy * this.width + xx\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          data[pos++] = COLOR\n        }\n        pos += this.width - width\n      }\n    },\n    drawNode(data, node, size, dx, dy) {\n      if (\n        !node ||\n        node.pop === 0 ||\n        dx + size <= 0 ||\n        dy + size <= 0 ||\n        dx >= this.width ||\n        dy >= this.height\n      )\n        return\n      if (size <= 1) {\n        data[dy * this.width + dx] = COLOR\n      } else if (node === true) {\n        this.fillSquare(data, dx, dy, this.cellWidth)\n      } else {\n        size /= 2\n        this.drawNode(data, node.nw, size, dx, dy)\n        this.drawNode(data, node.ne, size, dx + size, dy)\n        this.drawNode(data, node.sw, size, dx, dy + size)\n        this.drawNode(data, node.se, size, dx + size, dy + size)\n      }\n    },\n    drawCells() {\n      if (this.universe) {\n        const imageData = this.ctx.createImageData(this.width, this.height)\n        const data = new Int32Array(imageData.data.buffer)\n        const dim = Math.pow(2, this.universe.root.level)\n        this.drawNode(\n          data,\n          this.universe.root,\n          this.size * dim,\n          Math.round((-this.col0 - dim / 2) * this.size) - this.colOffset,\n          Math.round((-this.row0 - dim / 2) * this.size) - this.rowOffset\n        )\n        this.ctx.putImageData(imageData, 0, 0)\n      }\n    },\n    redraw() {\n      this.ctx.clearRect(0, 0, this.width, this.height)\n      this.drawCells()\n      if (this.size >= MIN_BORDER_PX) {\n        this.drawGrid()\n      }\n    },\n  },\n  watch: {\n    all() {\n      this.redraw()\n    },\n  },\n  mounted() {\n    this.ctx = this.$refs.canvas.getContext('2d')\n    window.addEventListener('resize', this.handleResize)\n    this.handleResize()\n    this.center()\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n}\n</script>\n\n<style scoped>\n.grid {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: white;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LifeGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LifeGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LifeGrid.vue?vue&type=template&id=ea9d3800&scoped=true&\"\nimport script from \"./LifeGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./LifeGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LifeGrid.vue?vue&type=style&index=0&id=ea9d3800&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea9d3800\",\n  null\n  \n)\n\nexport default component.exports","export const RLE_RE = /^\\s*([0-9]*(o|b|\\$)\\s*)*!$/\n\nfunction toArray(cells) {\n  if (cells.length === 0) return [[false]]\n  let minX = Infinity,\n    maxX = -Infinity,\n    minY = Infinity,\n    maxY = -Infinity\n  for (const [x, y] of cells) {\n    minX = Math.min(minX, x)\n    maxX = Math.max(maxX, x)\n    minY = Math.min(minY, y)\n    maxY = Math.max(maxY, y)\n  }\n  const ret = []\n  for (let i = 0; i < maxY - minY + 1; i++)\n    ret.push(new Array(maxX - minX + 1).fill(false))\n  for (const [x, y] of cells) ret[y - minY][x - minX] = true\n  return ret\n}\n\nfunction rle(row) {\n  const ret = []\n  let index = 0\n  while (index != -1) {\n    const next = row.indexOf(!row[index], index)\n    const count = (next == -1 ? row.length : next) - index\n    if (row[index] || next != -1)\n      ret.push((count > 1 ? count : '') + (row[index] ? 'o' : 'b'))\n    index = next\n  }\n  return ret.join('')\n}\n\nexport function encode(cells) {\n  const ar = toArray(cells)\n  const lines = []\n  let numLines = 0\n  for (let i = 0; i < ar.length; i++) {\n    const row = rle(ar[i])\n    if (row) {\n      if (numLines) {\n        lines.push((numLines > 1 ? numLines : '') + '$')\n        numLines = 0\n      }\n      lines.push(row)\n    }\n    numLines++\n  }\n  return lines.join('') + '!'\n}\n\nexport function decode(rle) {\n  if (!RLE_RE.test(rle)) throw new Error('Invalid RLE')\n  const rows = rle.slice(0, -1).split('$')\n  const cells = []\n  let row = 0,\n    numCols = 0\n  for (let i = 0; i < rows.length; i++) {\n    let index = 0,\n      re = /([0-9]*)(o|b)|([0-9]+)/g\n    let match\n    while ((match = re.exec(rows[i])) !== null) {\n      if (!match[2]) {\n        row += parseInt(match[3]) - 1\n        break\n      }\n      const num = parseInt(match[1] || 1)\n      if (match[2] === 'o') {\n        for (let col = index; col < index + num; col++) cells.push([col, row])\n      }\n      index += num\n      numCols = Math.max(numCols, index)\n    }\n    row++\n  }\n  const dy = Math.floor(row / 2),\n    dx = Math.floor(numCols / 2)\n  const ret = []\n  for (const [x, y] of cells) ret.push([x - dx, y - dy])\n  return ret\n}\n","import { encode, decode } from './rle'\n\nclass TreeNode {\n  constructor(nw, ne, sw, se) {\n    this.nw = nw\n    this.ne = ne\n    this.sw = sw\n    this.se = se\n    if (typeof nw !== 'object') {\n      this.pop = nw + ne + sw + se\n      this.level = 1\n    } else {\n      this.pop = nw.pop + ne.pop + sw.pop + se.pop\n      this.level = nw.level + 1\n    }\n    this.result = null\n    this.resultStep = -1\n    this.id = Math.random()\n  }\n\n  static hash(nw, ne, sw, se) {\n    // Crappy hash function statistically, but hopefully it's good enough :/\n    return (\n      0.3870661942527105 * (nw.id || nw) +\n      0.7760699850060107 * (ne.id || ne) +\n      0.2888132005064035 * (sw.id || sw) +\n      0.5184920551312162 * (se.id || se)\n    )\n  }\n\n  static create(nw, ne, sw, se) {\n    const hsh = this.hash(nw, ne, sw, se)\n    if (this.pool.has(hsh)) return this.pool.get(hsh)\n    const obj = new this(nw, ne, sw, se)\n    this.pool.set(hsh, obj)\n    return obj\n  }\n\n  static emptyTree(level) {\n    if (level === 1) return this.create(false, false, false, false)\n    const n = this.emptyTree(level - 1)\n    return this.create(n, n, n, n)\n  }\n\n  expand() {\n    const e = this.constructor.emptyTree(this.level - 1)\n    return this.constructor.create(\n      this.constructor.create(e, e, e, this.nw),\n      this.constructor.create(e, e, this.ne, e),\n      this.constructor.create(e, this.sw, e, e),\n      this.constructor.create(this.se, e, e, e)\n    )\n  }\n\n  getBit(x, y) {\n    if (this.level === 1)\n      return x < 0 ? (y < 0 ? this.nw : this.sw) : y < 0 ? this.ne : this.se\n    const val = Math.pow(2, this.level - 2)\n    if (x < 0) {\n      if (y < 0) return this.nw.getBit(x + val, y + val)\n      else return this.sw.getBit(x + val, y - val)\n    } else {\n      if (y < 0) return this.ne.getBit(x - val, y + val)\n      else return this.se.getBit(x - val, y - val)\n    }\n  }\n\n  setBit(x, y, c) {\n    if (this.level === 1) {\n      if (x < 0) {\n        if (y < 0) return this.constructor.create(c, this.ne, this.sw, this.se)\n        else return this.constructor.create(this.nw, this.ne, c, this.se)\n      } else {\n        if (y < 0) return this.constructor.create(this.nw, c, this.sw, this.se)\n        else return this.constructor.create(this.nw, this.ne, this.sw, c)\n      }\n    }\n    const val = Math.pow(2, this.level - 2)\n    if (x < 0) {\n      if (y < 0)\n        return this.constructor.create(\n          this.nw.setBit(x + val, y + val, c),\n          this.ne,\n          this.sw,\n          this.se\n        )\n      else\n        return this.constructor.create(\n          this.nw,\n          this.ne,\n          this.sw.setBit(x + val, y - val, c),\n          this.se\n        )\n    } else {\n      if (y < 0)\n        return this.constructor.create(\n          this.nw,\n          this.ne.setBit(x - val, y + val, c),\n          this.sw,\n          this.se\n        )\n      else\n        return this.constructor.create(\n          this.nw,\n          this.ne,\n          this.sw,\n          this.se.setBit(x - val, y - val, c)\n        )\n    }\n  }\n\n  centeredSubnode() {\n    return this.constructor.create(\n      this.nw.se,\n      this.ne.sw,\n      this.sw.ne,\n      this.se.nw\n    )\n  }\n\n  vertical(south) {\n    return this.constructor.create(this.sw, this.se, south.nw, south.ne)\n  }\n\n  centeredVertical(south) {\n    return this.constructor.create(\n      this.sw.se,\n      this.se.sw,\n      south.nw.ne,\n      south.ne.nw\n    )\n  }\n\n  horizontal(east) {\n    return this.constructor.create(this.ne, east.nw, this.se, east.sw)\n  }\n\n  centeredHorizontal(east) {\n    return this.constructor.create(\n      this.ne.se,\n      east.nw.sw,\n      this.se.ne,\n      east.sw.nw\n    )\n  }\n\n  centeredSubSubnode() {\n    return this.constructor.create(\n      this.nw.se.se,\n      this.ne.sw.sw,\n      this.sw.ne.ne,\n      this.se.nw.nw\n    )\n  }\n\n  applyRule(neighbors, current) {\n    return neighbors === 3 || (neighbors === 2 && current)\n  }\n\n  slowSimulation() {\n    if (this.level !== 2)\n      throw new Error('Base case can only be called for level 2 nodes')\n    const x00 = this.nw.nw\n    const x01 = this.nw.ne + this.ne.nw\n    const x02 = this.ne.ne\n    const x10 = this.nw.sw + this.sw.nw\n    const x11 = this.centeredSubnode().pop\n    const x12 = this.ne.se + this.se.ne\n    const x20 = this.sw.sw\n    const x21 = this.sw.se + this.se.sw\n    const x22 = this.se.se\n    return this.constructor.create(\n      this.applyRule(x00 + x01 + x10 + x11 - this.nw.se, this.nw.se),\n      this.applyRule(x01 + x02 + x11 + x12 - this.ne.sw, this.ne.sw),\n      this.applyRule(x10 + x11 + x20 + x21 - this.sw.ne, this.sw.ne),\n      this.applyRule(x11 + x12 + x21 + x22 - this.se.nw, this.se.nw)\n    )\n  }\n\n  step(k) {\n    if (this.resultStep === k) return this.result\n    if (this.level < 2)\n      throw new Error('Step can only be computed for nodes of level >= 2')\n    if (k > this.level - 2) throw new Error('Step size greater than level - 2')\n\n    if (this.level === 2) {\n      this.result = this.slowSimulation()\n    } else if (this.level === k + 2) {\n      const n00 = this.nw.step(k - 1)\n      const n01 = this.nw.horizontal(this.ne).step(k - 1)\n      const n02 = this.ne.step(k - 1)\n      const n10 = this.nw.vertical(this.sw).step(k - 1)\n      const n11 = this.centeredSubnode().step(k - 1)\n      const n12 = this.ne.vertical(this.se).step(k - 1)\n      const n20 = this.sw.step(k - 1)\n      const n21 = this.sw.horizontal(this.se).step(k - 1)\n      const n22 = this.se.step(k - 1)\n      this.result = this.constructor.create(\n        this.constructor.create(n00, n01, n10, n11).step(k - 1),\n        this.constructor.create(n01, n02, n11, n12).step(k - 1),\n        this.constructor.create(n10, n11, n20, n21).step(k - 1),\n        this.constructor.create(n11, n12, n21, n22).step(k - 1)\n      )\n    } else {\n      const n00 = this.nw.centeredSubnode()\n      const n01 = this.nw.centeredHorizontal(this.ne)\n      const n02 = this.ne.centeredSubnode()\n      const n10 = this.nw.centeredVertical(this.sw)\n      const n11 = this.centeredSubSubnode()\n      const n12 = this.ne.centeredVertical(this.se)\n      const n20 = this.sw.centeredSubnode()\n      const n21 = this.sw.centeredHorizontal(this.se)\n      const n22 = this.se.centeredSubnode()\n      this.result = this.constructor.create(\n        this.constructor.create(n00, n01, n10, n11).step(k),\n        this.constructor.create(n01, n02, n11, n12).step(k),\n        this.constructor.create(n10, n11, n20, n21).step(k),\n        this.constructor.create(n11, n12, n21, n22).step(k)\n      )\n    }\n    this.resultStep = k\n    return this.result\n  }\n\n  _cellList(ar, dx, dy) {\n    if (this.pop === 0) return\n    else if (this.level === 1) {\n      if (this.nw) ar.push([dx - 1, dy - 1])\n      if (this.ne) ar.push([dx, dy - 1])\n      if (this.sw) ar.push([dx - 1, dy])\n      if (this.se) ar.push([dx, dy])\n    } else {\n      const val = Math.pow(2, this.level - 2)\n      this.nw._cellList(ar, dx - val, dy - val)\n      this.ne._cellList(ar, dx + val, dy - val)\n      this.sw._cellList(ar, dx - val, dy + val)\n      this.se._cellList(ar, dx + val, dy + val)\n    }\n  }\n}\n\nTreeNode.pool = new Map()\n\nexport class LifeUniverse {\n  constructor() {\n    this.root = TreeNode.emptyTree(3)\n  }\n\n  expandTo(x, y) {\n    while (\n      Math.max(x, y) >= Math.pow(2, this.root.level - 1) ||\n      Math.min(x, y) < -Math.pow(2, this.root.level - 1)\n    ) {\n      this.root = this.root.expand()\n    }\n  }\n\n  get(x, y) {\n    this.expandTo(x, y)\n    return this.root.getBit(x, y)\n  }\n\n  set(x, y, c) {\n    this.expandTo(x, y)\n    this.root = this.root.setBit(x, y, c)\n  }\n\n  toggle(x, y) {\n    const cur = this.get(x, y)\n    this.root = this.root.setBit(x, y, !cur)\n  }\n\n  step(k) {\n    k = k || 0\n    while (\n      this.root.level < 2 + k ||\n      this.root.centeredSubSubnode().pop !== this.root.pop\n    )\n      this.root = this.root.expand()\n    this.root = this.root.step(k)\n  }\n\n  get population() {\n    return this.root.pop\n  }\n\n  cellList() {\n    const ar = []\n    this.root._cellList(ar, 0, 0)\n    return ar\n  }\n\n  toRLE() {\n    return encode(this.cellList())\n  }\n\n  static fromRLE(rle) {\n    const universe = new this()\n    const cells = decode(rle)\n    for (const [x, y] of cells) {\n      universe.set(x, y, true)\n    }\n    return universe\n  }\n}\n","<template>\n  <div id=\"app\" tabindex=\"1\" @keydown=\"handleKeydown\">\n    <header>\n      <span>\n        Generation {{ generation\n        }}{{ generationTime !== null ? ` (${generationTime}ms)` : '' }}\n      </span>\n      <span>Pop: {{ liveCount }}</span>\n      <span>Step: {{ pow2(stepSize) }}</span>\n      <span>\n        {{ -zoom > 0 ? pow2(-zoom) : 1 }} :\n        {{ zoom > 0 ? pow2(zoom) : 1 }}\n      </span>\n    </header>\n\n    <LifeGrid ref=\"lifeGrid\" @toggle=\"toggle\" />\n\n    <footer>\n      <span class=\"controls\">\n        <button @click=\"resume\">{{ timerID ? 'Stop' : 'Start' }}</button>\n        <button @click=\"step\">Step</button>\n        <button @click=\"clear\">Clear</button>\n      </span>\n      <span class=\"controls\">\n        <button @click=\"save\">Save</button>\n        <button @click=\"loadPrompt\">Load</button>\n        <select v-model=\"preset\">\n          <option value>--Select a pattern--</option>\n          <optgroup\n            v-for=\"(group, label) in examples\"\n            :key=\"label\"\n            :label=\"label\"\n          >\n            <option\n              v-for=\"(rle, name) in group\"\n              :key=\"name\"\n              v-text=\"name\"\n              :value=\"rle\"\n            ></option>\n          </optgroup>\n        </select>\n      </span>\n      <span class=\"controls\">\n        <label for=\"speed-input\">Speed</label>\n        <input\n          id=\"speed-input\"\n          type=\"range\"\n          v-model.number=\"speed\"\n          min=\"1\"\n          max=\"100\"\n        />\n      </span>\n      <span class=\"controls\">\n        <button :disabled=\"zoom <= -32\" @click=\"handleZoom(-1)\">-</button>\n        <span style=\"margin: 0 8px\">Zoom</span>\n        <button :disabled=\"zoom >= 8\" @click=\"handleZoom(+1)\">+</button>\n      </span>\n      <span class=\"controls\">\n        <button :disabled=\"stepSize <= 0\" @click=\"stepSize--\">-</button>\n        <span style=\"margin: 0 8px\">Step Size</span>\n        <button :disabled=\"stepSize >= 32\" @click=\"stepSize++\">+</button>\n      </span>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport LifeGrid from './components/LifeGrid.vue'\nimport { RLE_RE } from './logic/rle'\nimport { LifeUniverse } from './logic/hashlife'\nimport examples from './logic/examples.json'\nimport Swal from 'sweetalert2'\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      zoom: 4,\n      speed: 2,\n      stepSize: 0,\n      generation: 0,\n      generationTime: null,\n      liveCount: 0,\n      preset: '',\n      timerID: null,\n      examples: examples,\n    }\n  },\n  methods: {\n    pow2(k) {\n      return Math.pow(2, k)\n    },\n    handleWheel(evt) {\n      if (evt.deltaY < 0) this.handleZoom(+1, evt.pageX, evt.pageY)\n      else this.handleZoom(-1, evt.pageX, evt.pageY)\n    },\n    handleKeydown(evt) {\n      if (evt.keyCode === 219)\n        // [\n        this.handleZoom(-1)\n      else if (evt.keyCode === 221)\n        // ]\n        this.handleZoom(+1)\n      else if (evt.keyCode === 189)\n        // -\n        this.stepSize = Math.max(this.stepSize - 1, 0)\n      else if (evt.keyCode === 187)\n        // =\n        this.stepSize = Math.min(this.stepSize + 1, 32)\n    },\n    handleZoom(k, dx, dy) {\n      if (this.zoom + k > 8 || this.zoom + k < -32) return\n      this.zoom += k\n      dx = dx || document.body.clientWidth / 2\n      dy = dy || document.body.clientHeight / 2\n      this.$refs.lifeGrid.zoom(k, dx, dy)\n    },\n    update() {\n      this.liveCount = this.universe.population\n      this.$refs.lifeGrid.setUniverse(this.universe)\n    },\n    toggle(cell) {\n      this.universe.toggle(cell[0], cell[1])\n      this.update()\n    },\n    step() {\n      this.generation += Math.pow(2, this.stepSize)\n      const t0 = performance.now()\n      this.universe.step(this.stepSize)\n      this.generationTime = Math.ceil(performance.now() - t0)\n      this.update()\n    },\n    clear() {\n      this.universe = new LifeUniverse()\n      this.generation = 0\n      this.generationTime = null\n      this.update()\n    },\n    resume() {\n      if (this.timerID) {\n        clearInterval(this.timerID)\n        this.timerID = null\n      } else this.timerID = setInterval(this.step, 1000 / this.speed)\n    },\n    save() {\n      Swal.fire({\n        title: 'Save Pattern',\n        text: 'Current pattern in RLE format:',\n        input: 'text',\n        inputValue: this.universe.toRLE(),\n      })\n    },\n    load(rle) {\n      if (rle) {\n        const universe = LifeUniverse.fromRLE(rle)\n        this.clear()\n        this.$refs.lifeGrid.center()\n        this.universe = universe\n        this.update()\n        const px = Math.min(\n          document.body.clientWidth,\n          document.body.clientHeight\n        )\n        const zoomGoal = Math.min(\n          4,\n          Math.round(Math.log2(px) - universe.root.level)\n        )\n        this.handleZoom(zoomGoal - this.zoom)\n      }\n    },\n    loadPrompt() {\n      Swal.fire({\n        title: 'Load Pattern',\n        text: 'Enter pattern RLE:',\n        input: 'text',\n        inputPlaceholder: 'b2o$2o$bo!',\n        showCancelButton: true,\n        inputValidator(value) {\n          if (!RLE_RE.test(value))\n            return 'Invalid RLE format, please check your input.'\n        },\n      }).then(({ value }) => {\n        this.load(value)\n      })\n    },\n  },\n  watch: {\n    speed(val) {\n      if (this.timerID) {\n        clearInterval(this.timerID)\n        this.timerID = setInterval(this.step, 1000 / val)\n      }\n    },\n    preset(val) {\n      this.load(val)\n    },\n  },\n  mounted() {\n    window.addEventListener('wheel', this.handleWheel)\n    // this.universe = new LifeUniverse()\n    const allExamples = []\n    for (const group in this.examples)\n      for (const name in this.examples[group])\n        allExamples.push(this.examples[group][name])\n    this.preset = allExamples[Math.floor(Math.random() * allExamples.length)]\n  },\n  beforeDestroy() {\n    window.removeEventListener('wheel', this.handleWheel)\n  },\n  components: {\n    LifeGrid,\n  },\n}\n</script>\n\n<style>\nbody {\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  margin: 0;\n  overflow: hidden;\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#app {\n  position: relative;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-end;\n  text-align: center;\n}\n\nheader {\n  padding: 5px;\n  background: rgba(255, 255, 255, 0.6);\n  z-index: 1;\n  text-align: right;\n}\n\nheader > span {\n  padding: 0 20px;\n}\n\nheader > span::before {\n  position: relative;\n  left: -20px;\n  content: '|';\n}\n\nfooter {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  height: 80px;\n  width: 100%;\n  box-sizing: border-box;\n  border-top: 1px solid black;\n  padding: 10px;\n  background: rgba(211, 211, 211, 0.6);\n  z-index: 1;\n}\n\n.controls {\n  display: flex;\n  align-items: center;\n}\n\n.controls button,\n.controls select {\n  margin: 3px;\n}\n\n.controls label {\n  margin-right: 8px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=dd9dd7d2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport { VueHammer } from 'vue2-hammer'\nimport App from './App.vue'\n\nVue.use(VueHammer)\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LifeGrid.vue?vue&type=style&index=0&id=ea9d3800&scoped=true&lang=css&\""],"sourceRoot":""}